name: Build standalone tool on Windows

on: push

jobs:

  Compile-on-Windows:

    runs-on: windows-latest
    steps:

      - uses: actions/checkout@v3
      
      - name: Install QGIS
        run: choco install qgis

      - name: shell
        shell: powershell
        run: |
            $osgeo_file=(Get-Childitem -Path C: -Include OSGeow4w.bat -Recurse -File | Select-Object -ExpandProperty FullName)
            Invoke-Expression -Command $osgeo_file
            pip install dynaconf pyinstaller mergin-client